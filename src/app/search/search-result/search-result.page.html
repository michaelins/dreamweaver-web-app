<ion-header>
  <ion-toolbar class="ion-no-padding">
    <ion-buttons slot="start">
      <ion-back-button color="medium"></ion-back-button>
    </ion-buttons>
    <ion-searchbar placeholder="请输入商品名称" searchIcon="../../assets/icon/search.svg"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="ion-margin-top">
    <ion-row>
      <ion-col>
        <ion-list class="ion-padding">
          <ion-item class="product" *ngFor="let product of products" [routerLink]="['/product', product.id]" detail="false">
            <ion-img slot="start" class="ion-margin-end"
              [src]="product.headImg+'?x-oss-process=image/resize,m_fill,h_108,w_108'"></ion-img>
            <ion-grid class="ion-no-padding">
              <ion-row>
                <!-- <ion-col size=4 class="ion-no-padding ion-padding-end ion-padding-top ion-padding-bottom">
                  <ion-img [src]="product.headImg+'?x-oss-process=image/resize,m_fill,h_150,w_150'"></ion-img>
                </ion-col> -->
                <ion-col class="ion-padding-top ion-padding-bottom product-block">
                  <ion-label text-wrap>
                    <div class="box-2lines-ellipsis">
                      <div>
                        <article>{{product.name}}</article>
                      </div>
                    </div>
                    <div class="ion-padding-top ion-padding-bottom">
                      <ion-badge *ngFor="let tag of product.tagsView" color="secondary" class="ion-margin-end">{{tag}}
                      </ion-badge>
                    </div>
                    <ion-grid>
                      <ion-row>
                        <ion-col size=6>
                          <ion-text color="primary">
                            <h2>{{product.price | currency: 'CNY':'symbol-narrow'}}</h2>
                          </ion-text>
                        </ion-col>
                        <ion-col size=6 text-right>
                          <ion-icon color="medium" src="../../../assets/icon/cart.svg" style="font-size: 20px;"></ion-icon>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
    <ion-infinite-scroll-content loadingSpinner="crescent" loadingText="正在加载更多...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>